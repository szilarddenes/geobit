exports.id=321,exports.ids=[321],exports.modules={874:(e,t,s)=>{"use strict";s.d(t,{Z:()=>l});var a=s(997),r=s(1163),n=s(1664),o=s.n(n);function l({children:e}){let t=(0,r.useRouter)(),s=e=>!!("/admin/dashboard"===e&&"/admin/dashboard"===t.pathname||"/admin/dashboard"!==e&&t.pathname.startsWith(e));return(0,a.jsxs)("div",{className:"min-h-screen bg-slate-100 flex",children:[(0,a.jsxs)("aside",{className:"w-64 bg-slate-800 text-white",children:[a.jsx("div",{className:"p-4 border-b border-slate-700",children:a.jsx("h1",{className:"text-xl font-bold",children:"GeoBit Admin"})}),a.jsx("nav",{className:"p-4",children:a.jsx("ul",{className:"space-y-2",children:[{href:"/admin/dashboard",label:"Dashboard"},{href:"/admin/newsletters",label:"Newsletters"},{href:"/admin/sources",label:"Content Sources"},{href:"/admin/subscribers",label:"Subscribers"}].map(e=>a.jsx("li",{children:a.jsx(o(),{href:e.href,className:`block px-4 py-2 rounded-md transition duration-200 ${s(e.href)?"bg-blue-600 text-white":"text-slate-300 hover:bg-slate-700"}`,children:e.label})},e.href))})}),a.jsx("div",{className:"p-4 mt-auto border-t border-slate-700",children:a.jsx("button",{onClick:()=>{localStorage.removeItem("geobit_admin_token"),t.push("/admin")},className:"block w-full px-4 py-2 text-left text-slate-300 hover:bg-slate-700 rounded-md transition duration-200",children:"Logout"})})]}),a.jsx("main",{className:"flex-1 p-8 overflow-auto",children:e})]})}},5218:(e,t,s)=>{"use strict";s.a(e,async(e,a)=>{try{s.d(t,{$g:()=>C,C7:()=>D,Rr:()=>N,bk:()=>k,jA:()=>j,kM:()=>F,oq:()=>A,ou:()=>y,qp:()=>S,sC:()=>I});var r=s(3745),n=s(1492),o=s(8937),l=s(9500),i=e([r,n,o,l]);[r,n,o,l]=i.then?(await i)():i;let c=(0,r.getApps)().length?(0,r.getApps)()[0]:(0,r.initializeApp)({apiKey:"AIzaSyDvpreQ684CJaRl0dfbhR9i_IDKz58JfMk",authDomain:"geobit-959c9.firebaseapp.com",projectId:"geobit-959c9",storageBucket:"geobit-959c9.firebasestorage.app",messagingSenderId:"518824678195",appId:"1:518824678195:web:dbd647fbe88edfd4fa6446",measurementId:"G-26LPTBX5H4"});(0,n.getFirestore)(c);let d=(0,o.getFunctions)(c),u=(0,o.httpsCallable)(d,"admin-adminLogin"),m=(0,o.httpsCallable)(d,"admin-getContentSources"),h=(0,o.httpsCallable)(d,"admin-addContentSource");(0,o.httpsCallable)(d,"admin-updateContentSource"),(0,o.httpsCallable)(d,"admin-deleteContentSource"),(0,o.httpsCallable)(d,"admin-getSubscribers");let p=(0,o.httpsCallable)(d,"admin-getApiStatus"),b=(0,o.httpsCallable)(d,"newsletter-generateNewsletterOnDemand");(0,o.httpsCallable)(d,"newsletter-publishNewsletter");let g=(0,o.httpsCallable)(d,"newsletter-getNewsletter"),f=(0,o.httpsCallable)(d,"newsletter-getNewsletters"),v=(0,o.httpsCallable)(d,"content-collectContentFromSources"),w=(0,o.httpsCallable)(d,"content-searchContentFromAI");(0,o.httpsCallable)(d,"content-getContent"),(0,o.httpsCallable)(d,"content-saveContent");let x=[{id:"dev-1",name:"Dev Source 1",url:"https://example.com/1",category:"news",active:!0},{id:"dev-2",name:"Dev Source 2",url:"https://example.com/2",category:"research",active:!0}],y=e=>!!(e&&e.startsWith("dev-admin-")),C=async e=>{try{return await u(e)}catch(t){if(console.warn("Firebase adminLogin error, using development fallback:",t),"admin123"===e.password){let e="dev-admin-"+Math.random().toString(36).substring(2,15);return{data:{success:!0,token:e}}}return{data:{success:!1,error:"Invalid password"}}}},k=async e=>{try{return await p(e)}catch(t){if(console.warn("Firebase getApiStatus error, using development fallback:",t),e.token&&y(e.token))return{data:{success:!0,status:{openRouter:{status:"ok",message:"Development mode - API simulated",quota:{used:25,limit:100,remaining:75}},firebase:{status:"ok",message:"Development mode - Firebase simulated",usage:{reads:120,writes:45,deletes:10}},email:{status:"ok",message:"Development mode - Email service simulated",quota:{used:250,limit:2e3,remaining:1750}}}}};return{data:{success:!1,error:"Unauthorized access"}}}},S=async e=>{try{return await m(e)}catch(t){if(console.warn("Firebase getContentSources error, using development fallback:",t),e.token&&y(e.token))return{data:{success:!0,sources:x}};return{data:{success:!1,error:"Unauthorized access"}}}},j=async e=>{try{return await h(e)}catch(t){if(console.warn("Firebase addContentSource error, using development fallback:",t),e.token&&y(e.token)){let t={id:"dev-"+Math.random().toString(36).substring(2,9),name:e.name,url:e.url,category:e.category||"news",active:!0};return x.push(t),{data:{success:!0,source:t}}}return{data:{success:!1,error:"Unauthorized access"}}}},N=async e=>{try{return await v(e)}catch(t){if(console.warn("Firebase collectContentFromSources error, using development fallback:",t),e.token&&y(e.token))return{data:{success:!0,message:"Content collection simulated in development mode",contentCount:5,sources:2}};return{data:{success:!1,error:"Unauthorized access"}}}},A=async e=>{try{return await w(e)}catch(t){if(console.warn("Firebase searchContentFromAI error, using development fallback:",t),e.token&&y(e.token)){await new Promise(e=>setTimeout(e,1500));let t=[{id:"dev-content-1",title:`Research on ${e.query||"Geology"}`,source:"Development Source",url:"https://example.com/article1",publishedAt:new Date,summary:`This is a simulated summary about ${e.query||"geoscience topics"} generated in development mode.`,category:"research",interestScore:85},{id:"dev-content-2",title:`Latest News on ${e.query||"Earth Sciences"}`,source:"Development Journal",url:"https://example.com/article2",publishedAt:new Date,summary:`Here's another simulated summary about ${e.query||"geoscience"} for testing purposes.`,category:"news",interestScore:72}];return{data:{success:!0,content:t,message:"AI search simulated in development mode"}}}return{data:{success:!1,error:"Unauthorized access"}}}},D=b,F=g,I=f;(0,o.httpsCallable)(d,"subscribers-addSubscriber"),a()}catch(e){a(e)}})},8397:(e,t,s)=>{"use strict";s.a(e,async(e,a)=>{try{s.r(t),s.d(t,{default:()=>i});var r=s(997);s(108),s(8819);var n=s(3590),o=s(6689),l=e([n]);function i({Component:e,pageProps:t}){return(0,o.useEffect)(()=>()=>{},[]),(0,r.jsxs)(r.Fragment,{children:[r.jsx(e,{...t}),r.jsx(n.ToastContainer,{position:"bottom-right"})]})}n=(l.then?(await l)():l)[0],a()}catch(e){a(e)}})},4024:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>Document});var a=s(997),r=s(6859);function Document(){return(0,a.jsxs)(r.Html,{lang:"en",children:[(0,a.jsxs)(r.Head,{children:[a.jsx("link",{href:"https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700;800&display=swap",rel:"stylesheet"}),a.jsx("link",{href:"https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap",rel:"stylesheet"}),a.jsx("link",{rel:"icon",href:"/logo1.svg"}),a.jsx("link",{rel:"apple-touch-icon",href:"/logo1.svg"})]}),(0,a.jsxs)("body",{className:"bg-dark text-light",children:[a.jsx(r.Main,{}),a.jsx(r.NextScript,{})]})]})}},108:()=>{}};