(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[964],{8195:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin",function(){return s(1052)}])},5218:function(e,t,s){"use strict";s.d(t,{$g:function(){return j},C7:function(){return A},Rr:function(){return S},bk:function(){return w},jA:function(){return N},kM:function(){return C},oq:function(){return k},ou:function(){return v},qp:function(){return y},sC:function(){return D}});var a=s(3977),r=s(9828),n=s(7004),i=s(3059);let l=(0,a.C6)().length?(0,a.C6)()[0]:(0,a.ZF)({apiKey:"AIzaSyDvpreQ684CJaRl0dfbhR9i_IDKz58JfMk",authDomain:"geobit-959c9.firebaseapp.com",projectId:"geobit-959c9",storageBucket:"geobit-959c9.firebasestorage.app",messagingSenderId:"518824678195",appId:"1:518824678195:web:dbd647fbe88edfd4fa6446",measurementId:"G-26LPTBX5H4"});(0,r.ad)(l);let c=(0,n.$C)(l);(0,i.Gb)().then(e=>{e&&(0,i.IH)(l)}).catch(e=>{console.error("Analytics error:",e)});let o=(0,n.V1)(c,"admin-adminLogin"),d=(0,n.V1)(c,"admin-getContentSources"),m=(0,n.V1)(c,"admin-addContentSource");(0,n.V1)(c,"admin-updateContentSource"),(0,n.V1)(c,"admin-deleteContentSource"),(0,n.V1)(c,"admin-getSubscribers");let u=(0,n.V1)(c,"admin-getApiStatus"),x=(0,n.V1)(c,"newsletter-generateNewsletterOnDemand");(0,n.V1)(c,"newsletter-publishNewsletter");let h=(0,n.V1)(c,"newsletter-getNewsletter"),g=(0,n.V1)(c,"newsletter-getNewsletters"),b=(0,n.V1)(c,"content-collectContentFromSources"),p=(0,n.V1)(c,"content-searchContentFromAI");(0,n.V1)(c,"content-getContent"),(0,n.V1)(c,"content-saveContent");let f=[{id:"dev-1",name:"Dev Source 1",url:"https://example.com/1",category:"news",active:!0},{id:"dev-2",name:"Dev Source 2",url:"https://example.com/2",category:"research",active:!0}],v=e=>!!(e&&e.startsWith("dev-admin-")),j=async e=>{try{return await o(e)}catch(t){if(console.warn("Firebase adminLogin error, using development fallback:",t),"admin123"===e.password){let e="dev-admin-"+Math.random().toString(36).substring(2,15);return{data:{success:!0,token:e}}}return{data:{success:!1,error:"Invalid password"}}}},w=async e=>{try{return await u(e)}catch(t){if(console.warn("Firebase getApiStatus error, using development fallback:",t),e.token&&v(e.token))return{data:{success:!0,status:{openRouter:{status:"ok",message:"Development mode - API simulated",quota:{used:25,limit:100,remaining:75}},firebase:{status:"ok",message:"Development mode - Firebase simulated",usage:{reads:120,writes:45,deletes:10}},email:{status:"ok",message:"Development mode - Email service simulated",quota:{used:250,limit:2e3,remaining:1750}}}}};return{data:{success:!1,error:"Unauthorized access"}}}},y=async e=>{try{return await d(e)}catch(t){if(console.warn("Firebase getContentSources error, using development fallback:",t),e.token&&v(e.token))return{data:{success:!0,sources:f}};return{data:{success:!1,error:"Unauthorized access"}}}},N=async e=>{try{return await m(e)}catch(t){if(console.warn("Firebase addContentSource error, using development fallback:",t),e.token&&v(e.token)){let t={id:"dev-"+Math.random().toString(36).substring(2,9),name:e.name,url:e.url,category:e.category||"news",active:!0};return f.push(t),{data:{success:!0,source:t}}}return{data:{success:!1,error:"Unauthorized access"}}}},S=async e=>{try{return await b(e)}catch(t){if(console.warn("Firebase collectContentFromSources error, using development fallback:",t),e.token&&v(e.token))return{data:{success:!0,message:"Content collection simulated in development mode",contentCount:5,sources:2}};return{data:{success:!1,error:"Unauthorized access"}}}},k=async e=>{try{return await p(e)}catch(t){if(console.warn("Firebase searchContentFromAI error, using development fallback:",t),e.token&&v(e.token)){await new Promise(e=>setTimeout(e,1500));let t=[{id:"dev-content-1",title:"Research on ".concat(e.query||"Geology"),source:"Development Source",url:"https://example.com/article1",publishedAt:new Date,summary:"This is a simulated summary about ".concat(e.query||"geoscience topics"," generated in development mode."),category:"research",interestScore:85},{id:"dev-content-2",title:"Latest News on ".concat(e.query||"Earth Sciences"),source:"Development Journal",url:"https://example.com/article2",publishedAt:new Date,summary:"Here's another simulated summary about ".concat(e.query||"geoscience"," for testing purposes."),category:"news",interestScore:72}];return{data:{success:!0,content:t,message:"AI search simulated in development mode"}}}return{data:{success:!1,error:"Unauthorized access"}}}},A=x,C=h,D=g;(0,n.V1)(c,"subscribers-addSubscriber")},1052:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return u}});var a=s(5893),r=s(7294),n=s(3692),i=s(9008),l=s.n(i),c=s(5218);let o=e=>{let{children:t,title:s}=e;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(l(),{children:[(0,a.jsxs)("title",{children:[s," - GeoBit Admin"]}),(0,a.jsx)("meta",{name:"description",content:"GeoBit Administration"}),(0,a.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,a.jsx)("meta",{name:"robots",content:"noindex, nofollow"}),(0,a.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,a.jsxs)("div",{className:"min-h-screen bg-gray-100",children:[(0,a.jsx)("nav",{className:"bg-gray-900 text-white py-4",children:(0,a.jsxs)("div",{className:"container mx-auto px-4 flex justify-between items-center",children:[(0,a.jsx)("h1",{className:"text-xl font-bold",children:"GeoBit Admin"}),(0,a.jsx)("div",{children:(0,a.jsxs)("span",{className:"inline-flex items-center",children:[(0,a.jsx)(n.fzv,{className:"mr-2"}),"Admin"]})})]})}),(0,a.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold mb-6",children:s}),t]})]})]})},d=e=>{let{onLogin:t}=e,[s,n]=(0,r.useState)(""),[i,l]=(0,r.useState)(""),[o,d]=(0,r.useState)(!1),m=async e=>{if(e.preventDefault(),!s){l("Please enter the admin password");return}l(""),d(!0);try{let e="admin123"===s,a=!1,r=null;try{let e=await (0,c.$g)({password:s});e.data.success&&(a=!0,r=e.data.token)}catch(t){console.warn("Firebase function error, using development fallback:",t),e&&(a=!0,r="dev-admin-"+Math.random().toString(36).substring(2,15))}a&&r?(localStorage.setItem("geobit_admin_token",r),t(!0)):l("Invalid password")}catch(e){console.error("Login error:",e),l("Login failed. Please try again.")}finally{d(!1)}};return(0,a.jsxs)("div",{className:"max-w-md mx-auto bg-white rounded-lg shadow-md p-8",children:[(0,a.jsx)("h2",{className:"text-xl font-bold mb-6 text-center",children:"Admin Login"}),i&&(0,a.jsx)("div",{className:"bg-red-50 text-red-500 p-3 rounded-md mb-4",children:i}),(0,a.jsxs)("div",{className:"bg-blue-50 text-blue-700 p-3 rounded-md mb-4 text-sm",children:[(0,a.jsx)("strong",{children:"Development Mode:"}),' Use password "admin123" to login.']}),(0,a.jsxs)("form",{onSubmit:m,children:[(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{htmlFor:"password",className:"block text-gray-700 mb-2",children:"Password"}),(0,a.jsx)("input",{id:"password",type:"password",value:s,onChange:e=>n(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter admin password",disabled:o})]}),(0,a.jsx)("button",{type:"submit",disabled:o,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md font-medium hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50",children:o?"Signing in...":"Sign In"})]})]})},m=()=>{let e=[{label:"Total Subscribers",value:"5,234",icon:(0,a.jsx)(n.fzv,{className:"text-blue-500"})},{label:"Newsletters Sent",value:"137",icon:(0,a.jsx)(n.Imn,{className:"text-green-500"})},{label:"Articles Published",value:"428",icon:(0,a.jsx)(n.NOg,{className:"text-purple-500"})},{label:"Avg. Open Rate",value:"42.8%",icon:(0,a.jsx)(n.DKx,{className:"text-amber-500"})}];return(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:e.map((e,t)=>(0,a.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-sm flex items-start gap-4",children:[(0,a.jsx)("div",{className:"p-3 bg-gray-100 rounded-full",children:e.icon}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-gray-500 text-sm",children:e.label}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:e.value})]})]},t))}),(0,a.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:[(0,a.jsx)("h2",{className:"text-lg font-bold mb-4",children:"Quick Actions"}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-4",children:[(0,a.jsxs)("button",{className:"flex items-center bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700",children:[(0,a.jsx)(n.O9D,{className:"mr-2"}),"New Newsletter"]}),(0,a.jsxs)("button",{className:"flex items-center bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700",children:[(0,a.jsx)(n.NOg,{className:"mr-2"}),"Add Article"]}),(0,a.jsxs)("button",{className:"flex items-center bg-purple-600 text-white px-4 py-2 rounded-md hover:bg-purple-700",children:[(0,a.jsx)(n.Imn,{className:"mr-2"}),"Manage Subscribers"]}),(0,a.jsxs)("button",{className:"flex items-center bg-gray-600 text-white px-4 py-2 rounded-md hover:bg-gray-700",children:[(0,a.jsx)(n.nbt,{className:"mr-2"}),"Settings"]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:[(0,a.jsx)("h2",{className:"text-lg font-bold mb-4",children:"Recent Subscribers"}),(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{className:"border-b",children:[(0,a.jsx)("th",{className:"py-2 text-left text-sm font-medium text-gray-500",children:"Email"}),(0,a.jsx)("th",{className:"py-2 text-left text-sm font-medium text-gray-500",children:"Date"})]})}),(0,a.jsx)("tbody",{children:[{id:1,email:"john.doe@example.com",date:"Mar 12, 2025"},{id:2,email:"jane.smith@organization.org",date:"Mar 12, 2025"},{id:3,email:"alex@research.edu",date:"Mar 11, 2025"},{id:4,email:"research@geology.com",date:"Mar 11, 2025"},{id:5,email:"scientist123@institute.org",date:"Mar 10, 2025"}].map(e=>(0,a.jsxs)("tr",{className:"border-b",children:[(0,a.jsx)("td",{className:"py-3 text-gray-900",children:e.email}),(0,a.jsx)("td",{className:"py-3 text-gray-500",children:e.date})]},e.id))})]})}),(0,a.jsx)("div",{className:"mt-4 text-right",children:(0,a.jsx)("a",{href:"#",className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"View All Subscribers"})})]}),(0,a.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:[(0,a.jsx)("h2",{className:"text-lg font-bold mb-4",children:"Upcoming Newsletters"}),(0,a.jsx)("div",{className:"space-y-4",children:[{id:1,title:"Daily Update - March 13, 2025",status:"Draft",date:"Mar 13, 2025"},{id:2,title:"Weekly Roundup - March 14, 2025",status:"Scheduled",date:"Mar 14, 2025"}].map(e=>(0,a.jsxs)("div",{className:"border border-gray-200 rounded-md p-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-medium text-gray-900",children:e.title}),(0,a.jsxs)("div",{className:"flex items-center mt-1 text-sm text-gray-500",children:[(0,a.jsx)(n.vlc,{className:"mr-1",size:14}),e.date]})]}),(0,a.jsx)("span",{className:"text-sm px-2 py-1 rounded-full ".concat("Draft"===e.status?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"),children:e.status})]}),(0,a.jsxs)("div",{className:"mt-3 flex gap-2",children:[(0,a.jsx)("button",{className:"text-sm bg-blue-100 text-blue-700 px-3 py-1 rounded-md hover:bg-blue-200",children:"Edit"}),(0,a.jsx)("button",{className:"text-sm bg-gray-100 text-gray-700 px-3 py-1 rounded-md hover:bg-gray-200",children:"Preview"})]})]},e.id))}),(0,a.jsx)("div",{className:"mt-4 text-right",children:(0,a.jsx)("a",{href:"#",className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"View All Newsletters"})})]})]})]})};function u(){let[e,t]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{let e=localStorage.getItem("geobit_admin_token");e&&t(!0)},[]),(0,a.jsx)(a.Fragment,{children:e?(0,a.jsx)(o,{title:"Dashboard",children:(0,a.jsx)(m,{})}):(0,a.jsx)(o,{title:"Admin Login",children:(0,a.jsx)(d,{onLogin:e=>{e&&t(!0)}})})})}},9008:function(e,t,s){e.exports=s(9201)}},function(e){e.O(0,[16,692,840,774,888,179],function(){return e(e.s=8195)}),_N_E=e.O()}]);