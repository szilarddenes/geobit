i  emulators: Starting emulators: auth, functions, firestore, database, hosting, extensions

   Thank you for trying our early preview of Next.js support on Firebase Hosting.
   During the preview, support is best-effort and breaking changes can be expected. Proceed with caution.

   Documentation: https://firebase.google.com/docs/hosting/frameworks/nextjs
   File a bug: https://github.com/firebase/firebase-tools/issues/new?template=bug_report.md
   Submit a feature request: https://github.com/firebase/firebase-tools/issues/new?template=feature_request.md

   We'd love to learn from you. Express your interest in helping us shape the future of Firebase Hosting: https://goo.gle/41enW5X


up to date in 7s

34 packages are looking for funding
  run `npm fund` for details
⚠  functions: The following emulators are not running, calls to these services from the Functions emulator will affect production: apphosting, pubsub, storage, dataconnect
⚠  functions: Your GOOGLE_APPLICATION_CREDENTIALS environment variable points to /Users/solid.garden/.config/firebase/solid_garden.dev_gmail.com_application_default_credentials.json. Non-emulated services will access production using these credentials. Be careful!
i  firestore: Firestore Emulator logging to firestore-debug.log
✔  firestore: Firestore Emulator UI websocket is running on 9150.
i  database: Database Emulator logging to database-debug.log
i  hosting[geobit-959c9]: Serving hosting files from: .firebase/geobit-959c9/hosting
✔  hosting[geobit-959c9]: Local server: http://127.0.0.1:5005
i  functions: Watching "/Users/solid.garden/@dev/geobit/functions" for Cloud Functions...
✔  functions: Using node@18 from host.
i  functions: Loaded environment variables from .env.
Serving at port 8121

{"severity":"INFO","message":"Running functions in development mode"}

{"severity":"INFO","message":"OpenRouter API key exists: false"}

⚠  functions: Your GOOGLE_APPLICATION_CREDENTIALS environment variable points to /Users/solid.garden/.config/firebase/solid_garden.dev_gmail.com_application_default_credentials.json. Non-emulated services will access production using these credentials. Be careful!
✔  functions: Loaded functions definitions from source: processArticleContent, searchGeoscienceNews, testEnv.
✔  functions[us-central1-processArticleContent]: http function initialized (http://127.0.0.1:5001/geobit-959c9/us-central1/processArticleContent).
✔  functions[us-central1-searchGeoscienceNews]: http function initialized (http://127.0.0.1:5001/geobit-959c9/us-central1/searchGeoscienceNews).
✔  functions[us-central1-testEnv]: http function initialized (http://127.0.0.1:5001/geobit-959c9/us-central1/testEnv).
i  functions: Watching "/Users/solid.garden/@dev/geobit/.firebase/geobit-959c9/functions" for Cloud Functions...
✔  functions: Using node@18 from host.
⬢  functions: Failed to load function definition from source: FirebaseError: Failed to load environment variables from .env.

[90m┌─────────────────────────────────────────────────────────────┐[39m
[90m│[39m ✔  All emulators ready! It is now safe to connect your app. [90m│[39m
[90m│[39m i  View Emulator UI at http://127.0.0.1:4000/               [90m│[39m
[90m└─────────────────────────────────────────────────────────────┘[39m

[90m┌────────────────[39m[90m┬────────────────[39m[90m┬──────────────────────────────────┐[39m
[90m│[39m[33m Emulator       [39m[90m│[39m[33m Host:Port      [39m[90m│[39m[33m View in Emulator UI              [39m[90m│[39m
[90m├────────────────[39m[90m┼────────────────[39m[90m┼──────────────────────────────────┤[39m
[90m│[39m Authentication [90m│[39m 127.0.0.1:9099 [90m│[39m http://127.0.0.1:4000/auth       [90m│[39m
[90m├────────────────[39m[90m┼────────────────[39m[90m┼──────────────────────────────────┤[39m
[90m│[39m Functions      [90m│[39m 127.0.0.1:5001 [90m│[39m http://127.0.0.1:4000/functions  [90m│[39m
[90m├────────────────[39m[90m┼────────────────[39m[90m┼──────────────────────────────────┤[39m
[90m│[39m Firestore      [90m│[39m 127.0.0.1:8080 [90m│[39m http://127.0.0.1:4000/firestore  [90m│[39m
[90m├────────────────[39m[90m┼────────────────[39m[90m┼──────────────────────────────────┤[39m
[90m│[39m Database       [90m│[39m 127.0.0.1:9000 [90m│[39m http://127.0.0.1:4000/database   [90m│[39m
[90m├────────────────[39m[90m┼────────────────[39m[90m┼──────────────────────────────────┤[39m
[90m│[39m Hosting        [90m│[39m 127.0.0.1:5005 [90m│[39m n/a                              [90m│[39m
[90m├────────────────[39m[90m┼────────────────[39m[90m┼──────────────────────────────────┤[39m
[90m│[39m Extensions     [90m│[39m 127.0.0.1:5001 [90m│[39m http://127.0.0.1:4000/extensions [90m│[39m
[90m└────────────────[39m[90m┴────────────────[39m[90m┴──────────────────────────────────┘[39m
  Emulator Hub host: 127.0.0.1 port: 4400
  Other reserved ports: 4500, 9150
[90m┌─────────────────────────[39m[90m┬───────────────[39m[90m┬─────────────────────┐[39m
[90m│[39m[33m Extension Instance Name [39m[90m│[39m[33m Extension Ref [39m[90m│[39m[33m View in Emulator UI [39m[90m│[39m
[90m└─────────────────────────[39m[90m┴───────────────[39m[90m┴─────────────────────┘[39m
Issues? Report them at https://github.com/firebase/firebase-tools/issues and attach the *-debug.log files.
 
i  functions: Loaded environment variables from .env.
>  {"severity":"INFO","message":"Running functions in development mode"}
>  {"severity":"INFO","message":"OpenRouter API key exists: true"}
i  functions: Beginning execution of "us-central1-searchGeoscienceNews"
i  functions: Finished "us-central1-searchGeoscienceNews" in 2.297084ms
i  functions: Beginning execution of "us-central1-searchGeoscienceNews"
>  {"verifications":{"app":"MISSING","auth":"MISSING"},"logging.googleapis.com/labels":{"firebase-log-type":"callable-request-verification"},"severity":"DEBUG","message":"Callable request verification passed"}
>  Error searching news: TypeError: Converting circular structure to JSON
>      --> starting at object with constructor 'Socket'
>      |     property 'parser' -> object with constructor 'HTTPParser'
>      --- property 'socket' closes the circle
>      at JSON.stringify (<anonymous>)
>      at /Users/solid.garden/@dev/geobit/functions/src/ai/search-news.js:20:54
>      at fixedLen (/Users/solid.garden/@dev/geobit/functions/node_modules/firebase-functions/lib/v2/providers/https.js:157:37)
>      at /Users/solid.garden/@dev/geobit/functions/node_modules/firebase-functions/lib/common/providers/https.js:544:32
>      at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
>      at async runFunction (/opt/homebrew/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:506:9)
>      at async runHTTPS (/opt/homebrew/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:531:5)
>      at async /opt/homebrew/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:694:21
i  functions: Finished "us-central1-searchGeoscienceNews" in 11.592625ms
i  functions: Beginning execution of "us-central1-searchGeoscienceNews"
i  functions: Finished "us-central1-searchGeoscienceNews" in 7.439667ms
i  functions: Beginning execution of "us-central1-searchGeoscienceNews"
>  {"verifications":{"app":"MISSING","auth":"MISSING"},"logging.googleapis.com/labels":{"firebase-log-type":"callable-request-verification"},"severity":"DEBUG","message":"Callable request verification passed"}
>  Error searching news: TypeError: Converting circular structure to JSON
>      --> starting at object with constructor 'Socket'
>      |     property 'parser' -> object with constructor 'HTTPParser'
>      --- property 'socket' closes the circle
>      at JSON.stringify (<anonymous>)
>      at /Users/solid.garden/@dev/geobit/functions/src/ai/search-news.js:20:54
>      at fixedLen (/Users/solid.garden/@dev/geobit/functions/node_modules/firebase-functions/lib/v2/providers/https.js:157:37)
>      at /Users/solid.garden/@dev/geobit/functions/node_modules/firebase-functions/lib/common/providers/https.js:544:32
>      at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
>      at async runFunction (/opt/homebrew/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:506:9)
>      at async runHTTPS (/opt/homebrew/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:531:5)
>      at async /opt/homebrew/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:694:21
i  functions: Finished "us-central1-searchGeoscienceNews" in 6.883417ms
   Reload env: .env
 
i  emulators: Received SIGHUP for the first time. Starting a clean shutdown.
i  emulators: Please wait for a clean shutdown or send the SIGHUP signal again to stop right now.
i  emulators: Shutting down emulators.
i  ui: Stopping Emulator UI
i  extensions: Stopping Extensions Emulator
i  functions: Stopping Functions Emulator
i  hosting: Stopping Hosting Emulator
i  database: Stopping Database Emulator
i  firestore: Stopping Firestore Emulator
i  auth: Stopping Authentication Emulator
i  eventarc: Stopping Eventarc Emulator
i  tasks: Stopping Cloud Tasks Emulator
i  hub: Stopping emulator hub
i  logging: Stopping Logging Emulator
